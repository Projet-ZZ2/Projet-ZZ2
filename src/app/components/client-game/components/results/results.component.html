<div class="results-container">
  <div class="results-header">
    <div class="final-score">
      <div class="score-circle" [class]="getScoreClass()">
        <span class="score-number">{{ finalScore() }}</span>
        <span class="score-total">/ 1000</span>
      </div>
      <h2>{{ getScoreTitle() }}</h2>
      <p class="score-description">{{ getScoreDescription() }}</p>
    </div>
  </div>

  <div class="results-breakdown">
    <!-- DÃ©tail par Ã©tape -->
    <div class="step-results">
      <h3>ğŸ“Š DÃ©tail des performances</h3>

      <div class="step-result">
        <div class="step-info">
          <h4>ğŸ¤ Entretiens</h4>
          <p>{{ completedInterviews() }} personnes interviewÃ©es</p>
          <p>{{ collectedInfos().length }} informations collectÃ©es</p>
        </div>
        <div class="step-score">{{ getInterviewScore() }} pts</div>
      </div>

      <div class="step-result">
        <div class="step-info">
          <h4>ğŸ“Š Analyse des Insights</h4>
          <p>{{ placedInsights().length }} features placÃ©es</p>
          <p>PrÃ©cision moyenne : {{ getAverageInsightAccuracy() }}%</p>
        </div>
        <div class="step-score">{{ getInsightScore() }} pts</div>
      </div>

      <div class="step-result">
        <div class="step-info">
          <h4>ğŸ‘¤ CrÃ©ation du Persona</h4>
          @if (persona(); as persona) {
            <p>{{ persona.name }}</p>
            <p>{{ getCorrectCharacteristics() }}/5 caractÃ©ristiques correctes</p>
          } @else {
            <p>Persona non crÃ©Ã©</p>
          }
        </div>
        <div class="step-score">{{ getPersonaScore() }} pts</div>
      </div>

      <div class="step-result">
        <div class="step-info">
          <h4>ğŸ¨ Conception de la Maquette</h4>
          <p>{{ designElements().length }} Ã©lÃ©ments personnalisÃ©s</p>
          <p>ThÃ¨me dÃ©tectÃ© : {{ detectedTheme() || 'Aucun' }}</p>
        </div>
        <div class="step-score">{{ getDesignScore() }} pts</div>
      </div>
    </div>

    <!-- Analyse dÃ©taillÃ©e -->
    <div class="detailed-analysis">
      <h3>ğŸ” Analyse dÃ©taillÃ©e</h3>

      <!-- Points forts -->
      <div class="analysis-section strengths">
        <h4>ğŸ’ª Points forts</h4>
        <ul>
          @for (strength of getStrengths(); track strength) {
            <li>{{ strength }}</li>
          }
        </ul>
      </div>

      <!-- Points d'amÃ©lioration -->
      <div class="analysis-section improvements">
        <h4>ğŸ“ˆ Points d'amÃ©lioration</h4>
        <ul>
          @for (improvement of getImprovements(); track improvement) {
            <li>{{ improvement }}</li>
          }
        </ul>
      </div>

      <!-- Recommandations -->
      <div class="analysis-section recommendations">
        <h4>ğŸ’¡ Recommandations</h4>
        <ul>
          @for (recommendation of getRecommendations(); track recommendation) {
            <li>{{ recommendation }}</li>
          }
        </ul>
      </div>
    </div>
  </div>

  <!-- Badges et rÃ©compenses -->
  <div class="achievements">
    <h3>ğŸ† Badges obtenus</h3>
    <div class="badges-grid">
      @for (badge of getEarnedBadges(); track badge.id) {
        <div class="badge" [class]="badge.rarity">
          <div class="badge-icon">{{ badge.icon }}</div>
          <div class="badge-info">
            <h5>{{ badge.title }}</h5>
            <p>{{ badge.description }}</p>
          </div>
        </div>
      }
    </div>

    @if (getEarnedBadges().length === 0) {
      <div class="no-badges">
        <p>Aucun badge obtenu cette fois...</p>
        <p>Essayez de faire mieux la prochaine fois !</p>
      </div>
    }
  </div>

  <!-- Statistiques du joueur -->
  <div class="player-stats">
    <h3>ğŸ“ˆ Statistiques de performance</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">{{ completedInterviews() }}</div>
        <div class="stat-label">Entretiens menÃ©s</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ collectedInfos().length }}</div>
        <div class="stat-label">Infos collectÃ©es</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ gameState().errors }}</div>
        <div class="stat-label">Erreurs commises</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ getCompletionRate() }}%</div>
        <div class="stat-label">Taux de rÃ©ussite</div>
      </div>
    </div>
  </div>

  <!-- Conseils pour rejouer -->
  <div class="replay-advice">
    <h3>ğŸ® Pour votre prochain essai</h3>
    <div class="advice-cards">
      <div class="advice-card">
        <h4>ğŸ¯ StratÃ©gie</h4>
        <p>
          Concentrez-vous sur les infos importantes lors des entretiens et Ã©vitez les dÃ©tails
          inutiles.
        </p>
      </div>
      <div class="advice-card">
        <h4>ğŸ“Š PrÃ©cision</h4>
        <p>Prenez votre temps pour placer prÃ©cisÃ©ment les features dans le graphique insights.</p>
      </div>
      <div class="advice-card">
        <h4>ğŸ¨ CohÃ©rence</h4>
        <p>
          Assurez-vous que votre maquette correspond aux besoins identifiÃ©s lors des entretiens.
        </p>
      </div>
    </div>
  </div>
</div>
